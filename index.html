<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Ølendle</title>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background:
        linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),
        url('background.jpg') center/cover no-repeat;
      color: #fff;
      text-align: center;
    }
    main {
      max-width: 900px;
      margin: 2rem auto;
      background: rgba(255,255,255,0.1);
      padding: 1rem;
      border-radius: 8px;
    }
    h1 { font-size: 3rem; margin: 0; }
    .byline { font-size: 0.9rem; margin-bottom: 1.5rem; opacity: 0.8; }
    input, button {
      font-size: 1rem;
      padding: 0.5rem;
      margin: 0.5rem;
      border: none;
      border-radius: 4px;
    }
    button { cursor: pointer; }
    button:hover { background: rgba(255,255,255,0.2); }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 1rem;
      background: rgba(255,255,255,0.1);
    }
    th, td {
      border: 1px solid rgba(255,255,255,0.3);
      padding: 0.5rem;
      color: #fff;
    }
    th { background: rgba(255,255,255,0.2); }
    .green { background: rgba(136,232,140,0.7); }
    .yellow { background: rgba(254,240,138,0.7); color: #333; }
    .gray  { background: rgba(221,221,221,0.7); color: #333; }
    .arrow { font-weight: bold; }
    img.person-photo {
      width: 50px;
      height: 50px;
      object-fit: cover;
      border-radius: 50%;
    }
  </style>
</head>
<body>
  <main>
    <h1>Ølendle</h1>
    <div class="byline">By Morten</div>

    <input type="text" id="guessInput" placeholder="Type a name…" />
    <button id="guessBtn">Guess</button>

    <table id="board">
      <thead>
        <tr>
          <th>Photo</th>
          <th>Name</th>
          <th>Birth&nbsp;Year</th>
          <th>Height&nbsp;(cm)</th>
          <th>Residence</th>
          <th>Hair&nbsp;Color</th>
          <th>Gender</th>
          <th>Eye&nbsp;Color</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </main>

  <script>
    const people = [
      { name: 'Morten',       birthYear: 2008, height: 182, residence: 'Ølen',      hairColor: 'Brown', eyeColor: 'Blue',  gender: 'M', imageUrl: 'Morten.jpeg' },
      { name: 'Thomas Andre', birthYear: 2008, height: 190, residence: 'Ølensvåg', hairColor: 'Brown', eyeColor: 'Brown', gender: 'M', imageUrl: 'Thomas_Andre.jpg' },
      { name: 'Eirik',        birthYear: 2008, height: 175, residence: 'Ølen',      hairColor: 'Blonde',eyeColor: 'Blue',  gender: 'M' },
      { name: 'Sasha',        birthYear: 2008, height: 182, residence: 'Haugesund', hairColor: 'Brown',eyeColor: 'Blue',  gender: 'M' },
      { name: 'Dan Evan',     birthYear: 2008, height: 0,   residence: 'Ølensvåg', hairColor: 'Black',eyeColor: 'Brown', gender: 'M' },
      { name: 'Endre',        birthYear: 2008, height: 0,   residence: 'Ølen',      hairColor: 'Blonde',eyeColor: 'Blue',  gender: 'M' },
      { name: 'Gabri',        birthYear: 2007, height: 0,   residence: 'Unknown',  hairColor: 'Blonde',eyeColor: 'Blue',  gender: 'M' },
      // …keep adding more as needed
    ];

    const placeholder = 'no-image.png';

    // daily secret
    const MS_PER_DAY = 24*60*60*1000;
    const idx = Math.floor(Date.now()/MS_PER_DAY) % people.length;
    const secret = people[idx];

    const tbody = document.querySelector('#board tbody');
    const input = document.getElementById('guessInput');
    const btn   = document.getElementById('guessBtn');

    btn.addEventListener('click', () => {
      const name = input.value.trim().toLowerCase();
      const guess = people.find(p => p.name.toLowerCase() === name);
      if (!guess) return alert('Unknown name! Use one exactly from your list.');

      const tr = document.createElement('tr');

      // photo
      const img = guess.imageUrl || placeholder;
      const imgCell = document.createElement('td');
      imgCell.innerHTML = `<img class="person-photo" src="${img}" alt="${guess.name}">`;
      tr.appendChild(imgCell);

      // helpers
      function numCell(val, secretVal) {
        if (val === secretVal) return makeCell(val, 'green');
        if (val === 0 || val === 'Unknown') {
          return makeCell(`Unknown <span class="arrow">↓</span>`, 'yellow');
        }
        const dir = val < secretVal ? '↑' : '↓';
        return makeCell(`${val} <span class="arrow">${dir}</span>`, 'yellow');
      }
      function catCell(val, secretVal) {
        if (val === secretVal) return makeCell(val, 'green');
        if (val === 'Unknown') return makeCell(`Unknown <span class="arrow">↓</span>`, 'yellow');
        return makeCell(val, 'gray');
      }

      // name
      tr.appendChild(makeCell(guess.name, 'gray'));
      // birthYear
      tr.appendChild(numCell(guess.birthYear, secret.birthYear));
      // height
      tr.appendChild(numCell(guess.height, secret.height));
      // residence
      tr.appendChild(catCell(guess.residence, secret.residence));
      // hairColor
      tr.appendChild(catCell(guess.hairColor, secret.hairColor));
      // gender
      tr.appendChild(catCell(guess.gender, secret.gender));
      // eyeColor
      tr.appendChild(catCell(guess.eyeColor, secret.eyeColor));

      tbody.appendChild(tr);
      input.value = '';
      input.focus();
    });

    function makeCell(html, cls) {
      const td = document.createElement('td');
      td.className = cls;
      td.innerHTML = html;
      return td;
    }
  </script>
</body>
</html>
